<!DOCTYPE html> 
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1"> 
	<title>Multi-page template</title> 
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.1/jquery.mobile-1.2.1.min.css" />
	<script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.2.1/jquery.mobile-1.2.1.min.js"></script>
	<script>
		$(function() {
			$.mobile.loading('show', {
				text: '正在加载新闻...',
				textVisible: true,
				theme: 'a',
				html: ""
			});
			
			$.getJSON('news/getnews', function(result) {
				if (result.result == "success") {
					var list = $("#one ul[data-role='listview']")
					$.each(result.news, function(index, oneNews) {
						var id = oneNews.id
						var title = oneNews.title
						var time = oneNews.updatedTime
						var newsHtml = "<li new-id='" + id + "'><a href='#'>" + title + " [" + time + "]</a></li>"
			    			list.append(newsHtml)
			  		});
					list.listview('refresh');
				}
				
				$.mobile.loading('hide');
			});
		});

	</script>
</head> 

	
<body> 

<!-- Start of first page: #one -->
<div data-role="page" id="one">

	<div data-role="header">
		<h1>新闻</h1>
	</div><!-- /header -->

	<div data-role="content" >	
		<div class="content-primary">
			<ul data-role="listview">
			</ul>
		</div><!--/content-primary -->	
	</div><!-- /content -->
	
</div><!-- /page one -->


<!-- Start of second page: #two -->
<div data-role="page" id="two" data-theme="a">
	<div data-role="header">
		<h1>Two</h1>
	</div><!-- /header -->

	<div data-role="content" data-theme="a">	
		<h2>Two</h2>
		<p><a href="#one" data-direction="reverse" data-role="button" data-theme="b">Back to page "one"</a></p>	
	</div><!-- /content -->
	
	<div data-role="footer">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
</div><!-- /page two -->


<!-- Start of third page: #popup -->
<div data-role="page" id="popup">

	<div data-role="header" data-theme="e">
		<h1>Dialog</h1>
	</div><!-- /header -->

	<div data-role="content" data-theme="d">	
		<h2>Popup</h2>
		<p><a href="#one" data-rel="back" data-role="button" data-inline="true" data-icon="back">Back to page "one"</a></p>	
	</div><!-- /content -->
	
	<div data-role="footer">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
</div><!-- /page popup -->

</body>
</html>
